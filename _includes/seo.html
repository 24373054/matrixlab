<!-- SEO Meta Tags -->
{% assign page_title = page.title | default: site.title %}
{% assign page_description = page.description | default: site.description | strip_html | normalize_whitespace | truncate: 160 %}
{% assign page_image = page.image | default: site.metadata.image | absolute_url %}
{% assign page_url = page.url | replace: 'index.html', '' | absolute_url %}

<!-- Basic Meta Tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Primary Meta Tags -->
<title>{{ page_title }} | {{ site.title }}</title>
<meta name="title" content="{{ page_title }} | {{ site.title }}">
<meta name="description" content="{{ page_description }}">
<meta name="keywords" content="blockchain, federated learning, Web 3.0, smart contract, IoT, edge computing, consensus mechanism, cross-chain, decentralized, AI, machine learning, 区块链, 联邦学习, 智能合约, 物联网">
<meta name="author" content="{{ site.metadata.author | default: 'Matrix Lab' }}">
<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
<meta name="googlebot" content="index, follow">
<meta name="language" content="{{ site.metadata.lang | default: 'en' }}">
<meta name="revisit-after" content="7 days">

<!-- Canonical URL -->
<link rel="canonical" href="{{ page_url }}">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="{{ page_url }}">
<meta property="og:title" content="{{ page_title }} | {{ site.title }}">
<meta property="og:description" content="{{ page_description }}">
<meta property="og:image" content="{{ page_image }}">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:site_name" content="{{ site.title }}">
<meta property="og:locale" content="en_US">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:url" content="{{ page_url }}">
<meta name="twitter:title" content="{{ page_title }} | {{ site.title }}">
<meta name="twitter:description" content="{{ page_description }}">
<meta name="twitter:image" content="{{ page_image }}">

<!-- Additional Meta Tags -->
<meta name="theme-color" content="{{ site.metadata.color | default: '#123456' }}">
<meta name="msapplication-TileColor" content="{{ site.metadata.color | default: '#123456' }}">

<!-- Google Site Verification -->
<meta name="google-site-verification" content="OWYcThUEXCJ2tRqvTsJ7ahhdos6rlzNzRFvHhnfjVrI">

<!-- Structured Data / Schema.org -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Organization",
      "@id": "{{ site.url }}/#organization",
      "name": "{{ site.title }}",
      "url": "{{ site.url }}",
      "logo": {
        "@type": "ImageObject",
        "url": "{{ site.sidebar.logo.url | absolute_url }}",
        "width": 512,
        "height": 512
      },
      "description": "{{ site.description }}",
      "sameAs": [
        "https://github.com/24373054/matrixlab"
      ],
      "subOrganization": {
        "@type": "Organization",
        "name": "Ke Entropy Technology",
        "alternateName": "刻熵科技",
        "url": "https://develop.matrixlab.work",
        "description": "Blockchain security and Web3 solutions provider, the commercial arm of Matrix Lab",
        "sameAs": [
          "https://github.com/24373054"
        ]
      }
    },
    {
      "@type": "WebSite",
      "@id": "{{ site.url }}/#website",
      "url": "{{ site.url }}",
      "name": "{{ site.title }}",
      "description": "{{ site.description }}",
      "publisher": {
        "@id": "{{ site.url }}/#organization"
      },
      "inLanguage": "{{ site.metadata.lang | default: 'en' }}"
    },
    {
      "@type": "WebPage",
      "@id": "{{ page_url }}#webpage",
      "url": "{{ page_url }}",
      "name": "{{ page_title }}",
      "description": "{{ page_description }}",
      "isPartOf": {
        "@id": "{{ site.url }}/#website"
      },
      "about": {
        "@id": "{{ site.url }}/#organization"
      },
      "inLanguage": "{{ site.metadata.lang | default: 'en' }}"
    }
    {% if page.layout == 'libdoc/page' and page.title == 'Publications' %}
    ,{
      "@type": "ScholarlyArticle",
      "headline": "{{ page_title }}",
      "description": "{{ page_description }}",
      "author": {
        "@type": "Organization",
        "@id": "{{ site.url }}/#organization"
      },
      "publisher": {
        "@id": "{{ site.url }}/#organization"
      }
    }
    {% endif %}
  ]
}
</script>

<!-- Preconnect to external domains for performance -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="dns-prefetch" href="https://fonts.googleapis.com">
<link rel="dns-prefetch" href="https://fonts.gstatic.com">

<!-- Alternate languages (if applicable) -->
<link rel="alternate" hreflang="en" href="{{ page_url }}">
<link rel="alternate" hreflang="zh-CN" href="{{ page_url }}">
<link rel="alternate" hreflang="x-default" href="{{ page_url }}">
