# Jekyll-LibDoc 项目分析报告

## 1. README.md 中文翻译

### 注意
> 此 Jekyll 主题仍然正常工作，但不再维护。Jekyll LibDoc 已变为 [Eleventy LibDoc](https://github.com/ita-design-system/eleventy-libdoc)

### Jekyll LibDoc

**一个带有内置搜索和游乐场的 Jekyll 文档主题**

[文档](https://olivier3lanc.github.io/Jekyll-LibDoc/) | 
[安装](https://olivier3lanc.github.io/Jekyll-LibDoc/libdoc-install.html) | 
[配置](https://olivier3lanc.github.io/Jekyll-LibDoc/libdoc-config.html)

LibDoc 是一个 Jekyll 主题，专门为轻松快速地创建设计良好的文档而设计，特别适用于 CSS 和 JavaScript 库。它带有[内置游乐场](https://olivier3lanc.github.io/Jekyll-LibDoc/libdoc-playground.html)和本地搜索引擎。

### 展示

以下文档项目使用 LibDoc：

* [SEEMAP](https://olivier3lanc.github.io/seemap/) - 一个包含可自定义流行 Leaflet 插件、地图提供商及其自身 API 的单个 HTML 地图文件
* [Scroll Frames](https://olivier3lanc.github.io/Scroll-Frames/) - 根据 DOM 元素在视口中的位置，在任何 DOM 元素上动画显示静止帧序列
* [Scroll Btween](https://olivier3lanc.github.io/Scroll-Btween/) - 根据 DOM 元素在视口中的位置，在任何 DOM 元素上补间任何 CSS 值
* [GOA UI Framework](https://itautomotive-dev.github.io/goafe-ui/) - 自定义 GOA CAR 网站 UI 框架文档
* [BYmyCAR UI Framework](https://itautomotive-dev.github.io/bymycar-ui/) - 自定义 BYmyCAR 网站 UI 框架文档

### 特性

* **快速简单，无需安装** - 使用[远程主题功能](https://olivier3lanc.github.io/Jekyll-LibDoc/libdoc-install.html#online---remote-theme)在 Github 仓库上快速部署 Jekyll LibDoc
* **双重上下文：LibDoc + 游乐场** - LibDoc 用于创建带有嵌入式演示和示例的文档。LibDoc Jekyll 主题的主要特性是其内置且可配置的游乐场，它既是[布局](https://olivier3lanc.github.io/Jekyll-LibDoc/libdoc-layouts.html#playground)又是语法高亮扩展
* **无 Gem，无插件** - LibDoc 无需任何 Gem 或插件即可运行
* **兼容 Github Pages 的 Jekyll 主题** - 轻松在 Github Pages 上部署您的项目，LibDoc 完全兼容
* **5 种布局** - LibDoc 提供用于常见文档用途的专用[布局](https://olivier3lanc.github.io/Jekyll-LibDoc/libdoc-layouts.html)
* **资源网格** - 允许访问者查看、下载或复制项目上指定资源的 URL
* **本地搜索引擎** - LibDoc 拥有基于 [lunr.js](https://lunrjs.com/) 的内部搜索引擎
* **任何页面上的多个延迟加载游乐场** - 在文档页面上添加任意数量的游乐场，游乐场在进入视口时加载一次
* **可在本地工作，即使没有互联网连接** - LibDoc 可以使用 Jekyll serve 或任何 http 主机在本地运行
* **可自定义设置** - LibDoc 在配置文件 [config.yml](https://olivier3lanc.github.io/Jekyll-LibDoc/libdoc-config.html) 中有自己的可编辑设置
* **Front matter** - 可在每个页面和每个布局的 front matter 中设置的可选参数
* **Github Flavoured Markdown** - LibDoc 原生支持 [Github Flavoured Markdown](https://github.github.com/gfm/)
* **元数据** - LibDoc 支持文档 `<head>` 中的社交网络元数据，以启用适当的社交分享
* **侧边栏** - 浏览项目所需的所有 UI 组件
* **可自定义 Logo** - LibDoc 主题的左上角是一个主页链接，可以仅显示站点标题或自定义徽标
* **页面顺序和类别** - 创建的页面可以通过其 front matter 分配类别和顺序
* **未列出的页面** - 可以通过 front matter `unlisted` 属性从侧边栏和搜索结果中删除页面链接
* **Prism 作为语法高亮器** - LibDoc 使用可自定义的 [Prismjs](https://prismjs.com/) 语法高亮器
* **TOC - 目录** - LibDoc 支持 `{:toc}` 自动从 kramdown - markdown 引擎生成，在右侧边栏中样式化目录
* **徽章** - 轻松将 [shields.io](https://shields.io/) 徽章添加到页脚

### 使用方法

可以通过不同方式使用 LibDoc：

#### 在线 - 作为远程主题无需安装

*仅在 GitHub 上可用*，[远程主题功能](https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/adding-a-theme-to-your-github-pages-site-using-jekyll#adding-a-theme)是使用 LibDoc 最简单的方式，不需要任何安装

#### 在线 - 无需安装复制或克隆

仅使用浏览器、[Github](https://www.github.com) 和 [Github Pages](https://pages.github.com) 即可使用 LibDoc 创建文档

#### 本地安装

LibDoc 只需要 [Jekyll](https://jekyllrb.com/) 来编译您的工作

#### 本地使用远程主题

可以仅编写内容而无需完整的 LibDoc 安装，只需将 LibDoc 用作远程主题

### 贡献

欢迎为 LibDoc 开发做出贡献，fork 此项目，在 develop 分支上进行更改并发送 pull requests，或简单地报告问题

## 2. 各版块功能分析

### 2.1 核心架构版块

**1. 布局系统 (Layouts)**
- **位置**: `_layouts/libdoc/`
- **功能**: 提供不同的页面布局模板
- **包含布局**:
  - `default.html` - 默认布局，包含侧边栏和页脚
  - `page.html` - 基本页面布局
  - `page-split.html` - 分屏布局
  - `playground.html` - 代码游乐场布局
  - `page-codemirror.html` - 代码编辑器布局
  - `assets.html` - 资源网格布局
  - `blank.html` - 空白布局

**2. 包含组件 (Includes)**
- **位置**: `_includes/libdoc/`
- **功能**: 可重用的 HTML 组件
- **主要组件**:
  - `head.html` - HTML head 部分
  - `sidebar.html` - 侧边栏导航
  - `menu-basic.html` - 基本菜单生成
  - `shields.html` - 徽章显示

**3. 静态资源 (Assets)**
- **位置**: `assets/libdoc/`
- **功能**: 存储 CSS、JavaScript、字体、图片等静态文件
- **主要目录**:
  - `css/` - 样式表文件
  - `js/` - JavaScript 文件
  - `fonts/` - 字体文件
  - `img/` - 图片资源
  - `ajax/` - AJAX 相关文件

### 2.2 功能模块版块

**4. 搜索功能**
- **位置**: `assets/libdoc/js/search.js`
- **功能**: 基于 lunr.js 的本地搜索引擎
- **特点**: 支持标题、作者、类别、标签和内容搜索

**5. 代码游乐场 (Playground)**
- **位置**: `assets/libdoc/js/playground.js`
- **功能**: 嵌入式代码执行环境
- **特点**: 支持多种编程语言，可配置样式表和脚本

**6. 页面切换器**
- **位置**: `assets/libdoc/js/page-switcher.js`
- **功能**: 实现无刷新页面切换
- **特点**: 使用 AJAX 和 History API

**7. 语法高亮**
- **位置**: `assets/libdoc/js/prism/`
- **功能**: 使用 Prism.js 进行代码语法高亮
- **特点**: 支持 100+ 种编程语言

### 2.3 配置和内容版块

**8. 配置文件**
- **位置**: `_config.yml`
- **功能**: 全局配置设置
- **主要配置项**:
  - 站点基本信息 (title, description, url)
  - 游乐场设置 (playground)
  - 元数据配置 (metadata)
  - 侧边栏设置 (sidebar)
  - 徽章配置 (shields)
  - 资源设置 (assets)
  - 语法高亮器配置 (prism)

**9. 内容页面**
- **位置**: 根目录下的 `.md` 文件
- **功能**: 网站的实际内容
- **示例**: `index.md`, `hello.md`, `home.md`, `publications.md`

## 3. 网站各版块编辑位置

### 3.1 左侧边栏编辑位置

**1. 侧边栏整体结构**
- **编辑文件**: `_includes/libdoc/sidebar.html`
- **功能**: 侧边栏的整体布局和搜索框

**2. 导航菜单**
- **编辑文件**: `_includes/libdoc/menu-basic.html`
- **功能**: 生成页面导航菜单，支持分类和排序

**3. 侧边栏配置**
- **编辑文件**: `_config.yml` 中的 `sidebar` 部分
- **可配置项**:
  - `disable_search` - 禁用搜索功能
  - `logo.url` - 徽标图片 URL
  - `logo.max_height` - 徽标最大高度
  - `logo.font_size` - 无徽标时的字体大小
  - `additional_links` - 额外链接（非项目页面）

**4. 页面导航项**
- **编辑位置**: 各个页面的 front matter
- **可配置项**:
  - `nav_order` - 导航顺序
  - `nav_category` - 导航分类
  - `title` - 页面标题（显示在侧边栏）
  - `unlisted` - 是否在侧边栏中隐藏

### 3.2 主内容区域编辑位置

**1. 页面内容**
- **编辑位置**: 各个 `.md` 文件的内容部分
- **示例**: `index.md`, `hello.md`, `home.md`, `publications.md`

**2. 页面布局**
- **编辑位置**: 页面的 front matter 中的 `layout` 属性
- **可用布局**: `libdoc/page`, `libdoc/page-split`, `libdoc/playground` 等

**3. 页面元数据**
- **编辑位置**: 页面的 front matter
- **可配置项**:
  - `title` - 页面标题
  - `permalink` - 永久链接
  - `layout` - 使用的布局
  - `nav_order` - 导航顺序
  - `nav_category` - 导航分类

### 3.3 样式和外观编辑位置

**1. 主要样式表**
- **编辑文件**: `assets/libdoc/css/libdoc.css`
- **功能**: 网站的主要样式定义

**2. 主题颜色**
- **编辑位置**: `_config.yml` 中的 `metadata.color` 和 `playground.metadata.color`
- **功能**: 设置网站的主题颜色

**3. 字体设置**
- **编辑位置**: `assets/libdoc/fonts/` 目录
- **功能**: 自定义字体文件

### 3.4 功能模块编辑位置

**1. 搜索功能**
- **编辑文件**: `assets/libdoc/js/search.js`
- **相关文件**: `assets/libdoc/search.html`

**2. 代码游乐场**
- **编辑文件**: `assets/libdoc/js/playground.js`
- **配置位置**: `_config.yml` 中的 `playground` 部分

**3. 页面切换**
- **编辑文件**: `assets/libdoc/js/page-switcher.js`

**4. 语法高亮**
- **配置位置**: `_config.yml` 中的 `prism` 部分
- **语言文件**: `assets/libdoc/js/prism/` 目录

### 3.5 全局配置编辑位置

**1. 站点基本信息**
- **编辑位置**: `_config.yml` 顶部
- **可配置项**: `title`, `description`, `url`, `baseurl`

**2. 元数据设置**
- **编辑位置**: `_config.yml` 中的 `metadata` 部分
- **可配置项**: `favicon`, `author`, `color`, `image`

**3. 徽章设置**
- **编辑位置**: `_config.yml` 中的 `shields` 部分
- **功能**: 在页脚显示 shields.io 徽章

**4. 资源设置**
- **编辑位置**: `_config.yml` 中的 `assets` 部分
- **功能**: 配置资源网格的显示设置

## 总结

Jekyll-LibDoc 是一个功能丰富的文档主题，具有清晰的模块化结构。通过分析可以看出：

1. **架构清晰**: 采用标准的 Jekyll 目录结构，易于理解和维护
2. **功能完善**: 提供搜索、代码游乐场、多种布局等高级功能
3. **配置灵活**: 通过 `_config.yml` 和页面 front matter 提供丰富的配置选项
4. **扩展性强**: 模块化的设计便于自定义和扩展功能

编辑网站时，主要需要关注：
- `_config.yml` - 全局配置
- 各个 `.md` 文件 - 页面内容
- `_includes/libdoc/` - 可重用组件
- `assets/libdoc/` - 静态资源
- `_layouts/libdoc/` - 布局模板
