#!/bin/bash

# ========================================
# Matrix Lab - åœæ­¢ç®¡ç†åå°
# ========================================

echo "========================================="
echo "  åœæ­¢ Matrix Lab ç®¡ç†å‘˜åå°æœåŠ¡"
echo "========================================="
echo ""

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
if ! systemctl is-active --quiet matrixlab-admin; then
    echo "âš ï¸  ç®¡ç†åå°æœªåœ¨è¿è¡Œï¼"
    exit 0
fi

# åœæ­¢æœåŠ¡
echo "ğŸ›‘ æ­£åœ¨åœæ­¢ç®¡ç†åå°æœåŠ¡..."
sudo systemctl stop matrixlab-admin

# ç­‰å¾…æœåŠ¡åœæ­¢
sleep 1

# æ£€æŸ¥åœæ­¢çŠ¶æ€
if ! systemctl is-active --quiet matrixlab-admin; then
    echo ""
    echo "âœ… ç®¡ç†åå°å·²æˆåŠŸåœæ­¢ï¼"
    echo ""
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    echo "  ğŸ’¡ æç¤º"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    echo "  åœæ­¢åå°æœåŠ¡å¯ä»¥æå‡ç½‘ç«™è®¿é—®é€Ÿåº¦"
    echo "  éœ€è¦ç®¡ç†åŠŸèƒ½æ—¶è¿è¡Œ: ./start"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    echo ""
else
    echo ""
    echo "âŒ ç®¡ç†åå°åœæ­¢å¤±è´¥ï¼"
    echo ""
    echo "æŸ¥çœ‹æœåŠ¡çŠ¶æ€:"
    sudo systemctl status matrixlab-admin --no-pager
fi

